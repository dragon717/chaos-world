### 文化系统与交互设计

- **文化结构**：每个“文化”记录为结构体：{文化ID、道德体系、社会结构、习俗列表、动量值}，储存在文化数据库中。
- **交互方式**：系统通过节日、活动、冲突触发文化响应，如道德决策、阶层互动、文化融合或冲突。与角色生命周期整合：在成长阶段通过教育事件塑造文化习俗，在成年阶段文化事件影响社会行为。
- **数值表**：
  - `道德类型表`：如仁义、忠诚、和谐等，影响社会规范、行为倾向。
  - `动量影响矩阵`：定义不同事件对文化动量的正负权重。
  - `事件概率表`：计算文化事件在不同区域下的发生概率。
- **行为树设计**：每个区域或群体绑定行为树模板（如“保守型”“融合型”），通过数据库输入当前动量和事件，决定执行分支。链接生命周期：行为树在衰老阶段考虑文化传承事件。
- **状态机设计**：
  - 状态枚举如：繁荣、冲突、衰退、复兴。
  - 触发器：动量值变化、事件发生（如节日成功）、外部影响（如战争）。
  - 状态流转：如“冲突”→“融合”→“决议”→“繁荣”。
- **流程概览**：
  1. 系统监测文化状态；
  2. 触发事件评估；
  3. 进入相应状态；
  4. 执行响应行动（节日、冲突等）；
  5. 更新数据库并记录变化，与传记事件列表同步（参考R-角色生命周期.md）。

#### 与角色生命周期的整合
- **出生与成长阶段**：文化习俗从出生时影响，教育事件形成道德体系。
- **成年与衰老阶段**：文化事件驱动社会互动和冲突。
- **死亡与传承**：文化动量和习俗传承给后代，影响新角色的初始行为倾向。