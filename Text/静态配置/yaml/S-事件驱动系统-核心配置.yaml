# 混沌世界 - 事件驱动系统核心配置
# 基于：S-事件驱动系统.md 策划案
# 版本：V1.0
# 说明：四层事件驱动引擎的核心配置文件

# ==================== 系统配置 ====================
系统配置:
  版本: "1.0.0"
  更新时间: "2024-01-01"
  配置类型: "事件驱动核心"
  适用阶段: ["V0.1", "V0.2", "V0.3", "V0.4", "V1.0"]

# ==================== 四层事件驱动引擎配置 ====================
四层事件引擎:
  事实层事件调度器:
    更新频率: "实时"
    计算优先级: "高"
    适用角色: ["主角", "核心NPC"]
    功能模块:
      - "实时事件池"
      - "级联反应系统"
      - "权重计算引擎"
      - "玩家介入接口"
      - "养成系统联动"
    
  观点层认知更新:
    更新频率: "定期"
    计算优先级: "中"
    适用角色: ["主角", "重要NPC"]
    功能模块:
      - "认知演化追踪"
      - "策略思维开启"
      - "智慧点数系统"
      - "AI学习机制"
    
  立场层身份调整:
    更新频率: "事件触发"
    计算优先级: "中"
    适用角色: ["主角", "阵营领袖"]
    功能模块:
      - "身份选择变迁"
      - "阵营特权获得"
      - "声望点数系统"
      - "政治权力系统"
    
  信仰层核心重塑:
    更新频率: "重大节点"
    计算优先级: "低"
    适用角色: ["主角", "精神导师"]
    功能模块:
      - "信念确立历程"
      - "修身境界提升"
      - "修身点数系统"
      - "命运转折机会"

# ==================== 事件模板配置 ====================
事件模板:
  人性考验类:
    事件ID: "MORAL_TEST_TEMPLATE"
    事件类型: "人性考验"
    触发条件矩阵:
      社会化阶段: ["职业社会化", "权力社会化"]
      人性特质阈值:
        道德敏感度: ">60"
        权力欲望: ">40"
      阵营关系:
        当前阵营忠诚度: "<70"
      命运因子: ["权力因果", "忠诚因果"]
    事件强度: "重大"
    
    选择分支:
      - 选择ID: "CHOICE_LOYALTY"
        描述: "坚持对当前阵营的忠诚"
        后续事件: ["LOYALTY_REWARD_001", "POWER_CONFLICT_002"]
        概率权重:
          忠诚度: "+20"
          权力欲望: "-10"
      - 选择ID: "CHOICE_POWER"
        描述: "选择更有利的权力机会"
        后续事件: ["POWER_GAIN_001", "LOYALTY_CRISIS_001"]
        概率权重:
          权力欲望: "+20"
          道德敏感度: "-15"
      - 选择ID: "CHOICE_NEUTRAL"
        描述: "寻求平衡的第三条道路"
        后续事件: ["WISDOM_TEST_001", "DIPLOMATIC_CHANCE_001"]
        概率权重:
          智慧: "+10"
          外交能力: "+15"
    
    四层影响设计:
      事实层:
        记录: "具体选择行为和后果"
        养成联动: "解锁政治技能树分支"
      观点层:
        认知更新: "对权力和忠诚的理解深化"
        策略解锁: "开启高级博弈思维技艺"
      立场层:
        身份调整: "阵营身份认同变化"
        特权获得: "解锁阵营专属战技或职权"
      信仰层:
        信念考验: "核心价值信念的确立或动摇"
        境界影响: "修身五境进阶或退转"

  生存挑战类:
    事件ID: "SURVIVAL_CHALLENGE_TEMPLATE"
    事件类型: "生存挑战"
    触发条件矩阵:
      环境压力: ["饥荒", "战乱", "天灾"]
      资源状况:
        食物储备: "<30"
        金钱资源: "<50"
      社会关系:
        家族责任: ">0"
        朋友依赖: ">0"
    事件强度: "严重"
    
    选择分支:
      - 选择ID: "CHOICE_SELF_PRESERVE"
        描述: "优先保护自己和家人"
        后续事件: ["FAMILY_SURVIVAL_001", "GUILT_BURDEN_001"]
        概率权重:
          生存本能: "+25"
          道德负担: "+10"
      - 选择ID: "CHOICE_HELP_OTHERS"
        描述: "尽力帮助更多需要帮助的人"
        后续事件: ["COMMUNITY_HERO_001", "RESOURCE_CRISIS_001"]
        概率权重:
          利他精神: "+20"
          个人风险: "+15"
      - 选择ID: "CHOICE_SEEK_SOLUTION"
        描述: "寻找解决根本问题的方法"
        后续事件: ["INNOVATION_PATH_001", "LEADERSHIP_TEST_001"]
        概率权重:
          智慧: "+15"
          领导力: "+12"

# ==================== 状态机配置 ====================
状态机系统:
  事实层状态机:
    控制类型: "AI自动控制"
    状态枚举: ["日常生活", "学习成长", "社交互动", "危机应对", "技能实践"]
    触发条件: ["外部事件", "需求变化", "时间推进"]
    状态转换: "基于具体行为结果和环境变化"
    玩法联动: "不同状态解锁不同技能学习选项和资源获取方式"
    
  观点层状态机:
    控制类型: "半自动控制"
    状态枚举: ["认知稳定", "信息冲突", "观点重塑", "认知升华", "偏见固化"]
    触发条件: ["新信息输入", "认知冲突", "经验积累"]
    状态转换: "基于认知能力和开放程度"
    玩家控制:
      - 类型: "选择介入"
      - 时机: "信息冲突时"
      - 选项: ["深入思考", "拒绝接受"]
      - 资源消耗: "智慧点数"
    战斗联动:
      认知升华状态: "解锁洞察技能，看穿敌人弱点"
      偏见固化状态: "对特定敌人伤害+30%，但策略选择受限"
    
  立场层状态机:
    控制类型: "玩家主导控制"
    状态枚举: ["身份确认", "立场动摇", "身份转换", "立场坚定", "身份危机"]
    触发条件: ["利益冲突", "阵营压力", "身份挑战"]
    状态转换: "玩家主动选择 + 外部压力影响"
    玩家控制:
      - 类型: "主动选择"
      - 选项: ["坚持原则", "寻求妥协", "彻底转变"]
      - 资源消耗: "声望资源"
    战斗联动:
      立场坚定状态: "同阵营队友合击技威力+50%"
      身份危机状态: "所有队友关系-20%，但获得孤注一掷技能"
    
  信仰层状态机:
    控制类型: "重大选择控制"
    状态枚举: ["信念坚定", "信仰质疑", "信念重建", "信仰升华", "信念崩塌"]
    触发条件: ["重大道德冲突", "人生重大变故", "精神启发"]
    状态转换: "重大人生选择节点 + 修身境界影响"
    玩家控制:
      - 类型: "重大决策"
      - 选项: ["深入探索", "回归传统", "创立新信念"]
      - 资源消耗: "修身点数"
    战斗联动:
      信仰升华状态: "解锁圣光系列技能，对邪恶敌人额外伤害"
      信念崩塌状态: "解锁虚无系列技能，免疫精神攻击但无法使用治疗技能"

# ==================== 奖励机制配置 ====================
奖励机制:
  四层奖励体系:
    事实层奖励:
      类型: "基础养成资源"
      奖励内容:
        - "技能熟练度提升"
        - "资源获得"
        - "成就解锁"
      养成联动:
        技能点数: "解锁技能树分支"
        财富资源: "购买装备、建设设施"
        人脉关系: "开启合作任务、获得情报"
        社会地位: "解锁高级职业、政治权力"
    
    观点层奖励:
      类型: "策略思维系统"
      奖励内容:
        - "认知深度提升"
        - "智慧点数获得"
        - "视野拓展"
      养成联动:
        智慧点数: "解锁博弈论、心理战术、战略规划等高级技艺"
        认知深度: "提升洞察、预判、分析等战斗技能效果"
        信息渠道: "获得隐藏任务、秘密情报、市场先机"
        思维模式: "影响AI决策倾向，解锁特殊对话选项"
    
    立场层奖励:
      类型: "阵营特权系统"
      奖励内容:
        - "身份特权解锁"
        - "阵营声望提升"
        - "领导力发展"
      养成联动:
        声望点数: "解锁阵营专属战技"
        身份特权: "获得专属装备、建筑、随从"
        领导力: "解锁指挥、鼓舞、威慑等团队技能"
        政治权力: "影响地区政策、调动资源、发动战争"
    
    信仰层奖励:
      类型: "修身境界系统"
      奖励内容:
        - "精神境界提升"
        - "道德光环效应"
        - "命运转折机会"
      养成联动:
        修身点数: "推进修身五境进阶"
        精神力量: "解锁断罪技、仁爱技、智慧技等超凡能力"
        道德光环: "影响NPC好感度、招募特殊伙伴、化解冲突"
        命运掌控: "获得重选机会、改写关键事件结果"

  觉醒者特殊奖励:
    类型: "轮回传承系统"
    奖励内容:
      - "记忆觉醒奖励"
      - "前世技能传承"
      - "直觉预警能力"
      - "轮回使命指引"
    养成联动:
      觉醒度点数: "解锁前世记忆片段，获得隐藏知识"
      轮回经验: "加速特定技能学习，跳过基础阶段"
      使命完成: "获得天命加成，影响重大事件结果"
      记忆共鸣: "与其他觉醒者建立特殊联系，解锁合作技能"

# ==================== 资源系统配置 ====================
资源系统:
  核心资源体系:
    基础资源层:
      技能点数:
        来源: "事实层"
        用途: "技能树解锁"
        获得方式: ["完成任务", "技能实践", "师父传授"]
      智慧点数:
        来源: "观点层"
        用途: "策略思维技艺"
        获得方式: ["认知升华", "学术研究", "思辨交流"]
      声望点数:
        来源: "立场层"
        用途: "阵营特权系统"
        获得方式: ["阵营贡献", "政治成就", "领导表现"]
      修身点数:
        来源: "信仰层"
        用途: "修身五境进阶"
        获得方式: ["道德实践", "精神感悟", "境界突破"]
    
    高级资源层:
      觉醒度点数:
        来源: "觉醒者专属"
        用途: "轮回传承系统"
        获得方式: ["记忆觉醒", "前世共鸣", "使命完成"]
      命运点数:
        来源: "重大选择获得"
        用途: "改写关键事件"
        获得方式: ["命运转折", "重大牺牲", "天命感应"]
      影响力点数:
        来源: "领导力发展"
        用途: "社会变革能力"
        获得方式: ["群众支持", "政治影响", "文化传播"]
      传承点数:
        来源: "死亡时获得"
        用途: "后代角色加成"
        获得方式: ["人生成就", "精神遗产", "血脉传承"]

# ==================== 性能优化配置 ====================
性能优化:
  分层更新机制:
    事实层:
      更新频率: "实时更新（高频）"
      适用范围: "主角+关键NPC完整系统"
      角色数量: "50-100个"
    观点层:
      更新频率: "定期更新（中频）"
      适用范围: "重要NPC简化系统"
      角色数量: "200-500个"
    立场层:
      更新频率: "事件触发更新（低频）"
      适用范围: "普通NPC标签系统"
      角色数量: "500-1000个"
    信仰层:
      更新频率: "重大节点更新（极低频）"
      适用范围: "背景NPC预设模板"
      角色数量: "1000+个"
  
  区域限制计算:
    热点区域:
      定义: "玩家活跃区域"
      计算方式: "完整计算"
      更新频率: "实时"
    冷区域:
      定义: "玩家不在的区域"
      计算方式: "简化计算或暂停更新"
      更新频率: "定期"
    影响衰减:
      机制: "距离越远影响越小"
      衰减系数: "0.8^距离等级"

# ==================== 实施配置 ====================
实施配置:
  版本规划:
    V0.1:
      模块: ["事实层事件", "行为记录", "简化行为树"]
      核心功能: ["基础事件触发", "选择分支", "技能成长"]
    V0.2:
      模块: ["状态机系统（事实+观点）", "动态奖励"]
      核心功能: ["状态转换", "智慧点数", "策略思维解锁"]
    V0.3:
      模块: ["智能事件模板", "观点/立场层"]
      核心功能: ["事件树", "阵营系统", "身份特权"]
    V0.4:
      模块: ["信仰层", "觉醒者系统", "命运引导"]
      核心功能: ["修身五境", "轮回记忆", "命运选择"]
    V1.0:
      模块: ["AI驱动事件树", "战斗系统整合"]
      核心功能: ["完整四层联动", "战斗技能", "社会影响"]
  
  开发要点:
    - "模块化设计原则"
    - "数据驱动架构"
    - "玩家反馈循环"
    - "AI辅助平衡"
    - "可控性与调试工具"
  
  成功标准:
    V0.1: "玩家能够理解基础事件选择机制"
    V1.0: "实现每个选择都有意义，每个角色都有独特人生的设计目标"